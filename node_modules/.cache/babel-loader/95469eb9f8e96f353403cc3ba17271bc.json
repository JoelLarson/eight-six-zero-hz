{"ast":null,"code":"import { BaseUiElementFactory, PublicUiElementIdAndClasses } from \"./base\";\nimport { Html5QrcodeScannerStrings } from \"../../strings\";\nvar CameraSelectionUi = function () {\n  function CameraSelectionUi(cameras) {\n    this.selectElement = BaseUiElementFactory.createElement(\"select\", PublicUiElementIdAndClasses.CAMERA_SELECTION_SELECT_ID);\n    this.cameras = cameras;\n    this.options = [];\n  }\n  CameraSelectionUi.prototype.render = function (parentElement) {\n    var cameraSelectionContainer = document.createElement(\"span\");\n    cameraSelectionContainer.style.marginRight = \"10px\";\n    var numCameras = this.cameras.length;\n    if (numCameras === 0) {\n      throw new Error(\"No cameras found\");\n    }\n    if (numCameras === 1) {\n      cameraSelectionContainer.style.display = \"none\";\n    } else {\n      var selectCameraString = Html5QrcodeScannerStrings.selectCamera();\n      cameraSelectionContainer.innerText = selectCameraString + \" (\" + this.cameras.length + \")  \";\n    }\n    var anonymousCameraId = 1;\n    for (var _i = 0, _a = this.cameras; _i < _a.length; _i++) {\n      var camera = _a[_i];\n      var value = camera.id;\n      var name_1 = camera.label == null ? value : camera.label;\n      if (!name_1 || name_1 === \"\") {\n        name_1 = [Html5QrcodeScannerStrings.anonymousCameraPrefix(), anonymousCameraId++].join(\" \");\n      }\n      var option = document.createElement(\"option\");\n      option.value = value;\n      option.innerText = name_1;\n      this.options.push(option);\n      this.selectElement.appendChild(option);\n    }\n    cameraSelectionContainer.appendChild(this.selectElement);\n    parentElement.appendChild(cameraSelectionContainer);\n  };\n  CameraSelectionUi.prototype.disable = function () {\n    this.selectElement.disabled = true;\n  };\n  CameraSelectionUi.prototype.isDisabled = function () {\n    return this.selectElement.disabled === true;\n  };\n  CameraSelectionUi.prototype.enable = function () {\n    this.selectElement.disabled = false;\n  };\n  CameraSelectionUi.prototype.getValue = function () {\n    return this.selectElement.value;\n  };\n  CameraSelectionUi.prototype.hasValue = function (value) {\n    for (var _i = 0, _a = this.options; _i < _a.length; _i++) {\n      var option = _a[_i];\n      if (option.value === value) {\n        return true;\n      }\n    }\n    return false;\n  };\n  CameraSelectionUi.prototype.setValue = function (value) {\n    if (!this.hasValue(value)) {\n      throw new Error(value + \" is not present in the camera list.\");\n    }\n    this.selectElement.value = value;\n  };\n  CameraSelectionUi.prototype.hasSingleItem = function () {\n    return this.cameras.length === 1;\n  };\n  CameraSelectionUi.prototype.numCameras = function () {\n    return this.cameras.length;\n  };\n  CameraSelectionUi.create = function (parentElement, cameras) {\n    var cameraSelectUi = new CameraSelectionUi(cameras);\n    cameraSelectUi.render(parentElement);\n    return cameraSelectUi;\n  };\n  return CameraSelectionUi;\n}();\nexport { CameraSelectionUi };","map":{"version":3,"mappings":"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","names":["BaseUiElementFactory","PublicUiElementIdAndClasses","Html5QrcodeScannerStrings","cameras","selectElement","createElement","CAMERA_SELECTION_SELECT_ID","options","CameraSelectionUi","parentElement","cameraSelectionContainer","document","style","marginRight","numCameras","length","Error","display","selectCameraString","selectCamera","innerText","anonymousCameraId","_a","_i","camera","value","id","name_1","label","anonymousCameraPrefix","join","option","push","appendChild","disabled","hasValue","cameraSelectUi","render"],"sourceRoot":"","sources":["../../../../src/ui/scanner/camera-selection-ui.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}